# Задача 3. ЯМы тестировщики
"""Написать автотест (код), который проверяет, что на стартовой странице какого-то сайта количество
личных местоимений 1-го лица больше, чем количество остальных личных местоимений"""


import requests    # импорт инструмента
from bs4 import BeautifulSoup    # импортируем из библиотеки класс BeautifulSoup
import string   # импорт инструмента


PRONOUNS_1 = ['я', 'меня', 'мне', 'мной', 'мною', 'мы', 'нас', 'нам', 'нами']  # список ЛМ 1-го лица

OTHER_PRONOUNS = ['ты', 'тебя', 'тебе', 'тобой', 'тобою', 'вы', 'вас', 'вам', 'вами', 'он', 'его', 'него', 'ему', 'нему',
                  'им', 'ним', 'нём', 'нем', 'она', 'её', 'ее', 'неё', 'нее', 'ей', 'ней', 'ею', 'нею', 'оно']  # список ЛМ 2-го и 3-го лица

def definition_of_pronouns(url: str) -> None:
    '''
    Функция анализирует страницу на колличество личных местоимений и определяет равенство между личными местоимениями:
    1-го лица, 2-3 лица
    '''
    pronouns_1_from_url: list() = []  # создаем пустой список для ЛМ 1-го лица со страницы
    other_pronouns_from_url = []  # создаем пустой список для ЛМ 2-го и 3-го лица со страницы

    inf = requests.get(url)  # отправляем запрос к странице (страница нам отвечает: <Response [200]>)
    inf_list = BeautifulSoup(inf.text, 'lxml')  # получаем всю текстовую информацию со страницы с тегами

    for item in inf_list.text.split():    # избавляемся от тегов и скрытых знаков
        item = item.lower().strip(string.punctuation)   #  приводим элемент к нижнему регистру и избавляемся от знаков пунктуации
        
        if item in PRONOUNS_1:    # проверяем элемент на наличие ЛМ 1-го лица
            pronouns_1_from_url.append(item)    # добавляем элемент в список
        elif item in OTHER_PRONOUNS:    # проверяем элемент на наличие ЛМ 2-го или 3-го лица
            other_pronouns_from_url.append(item)    # добавляем элемент в список
            
    # анализ полученных данных
    if len(pronouns_1_from_url) > len(other_pronouns_from_url):
        print(f'Количество личных местоимений 1-го лица больше, чем количество остальных личных местоимений на {len(pronouns_1_from_url) - len(other_pronouns_from_url)} элементов')
    elif len(pronouns_1_from_url) == len(other_pronouns_from_url) and len(pronouns_1_from_url) != 0:
        print(f'Количество личных местоимений 1-го лица равно количеству остальных личных местоимений')
    elif len(pronouns_1_from_url) < len(other_pronouns_from_url):
        print(f'Количество личных местоимений 2-го и 3-го лица больше, чем количество личных местоимений 1-го лица на {len(other_pronouns_from_url) - len(pronouns_1_from_url)} элементов')
    else:
        print('На сайте нет личных местоимений')
